<HTML>
<HEAD>
	<meta charset="utf-8">
	<Title>Geolocalisation</Title>
</HEAD>
<script type="text/javascript">
	if ( 'serviceWorker' in navigator ) {
		navigator.serviceWorker.register('serviceWorker.js').then(function(registration) {
		console.log('ServiceWorker registration successful with scope: ', registration.scope);
		document.getElementById('worker').innerHTML='serviceWorker.js activé';
		}).catch(function(err) {
		console.log('ServiceWorker registration failed: ', err);
		});
	}
</script>
<link rel="stylesheet" type="text/css" href="styles.css">
<BODY>
<h1>Solution de Geolocalisation</h1>
<sinfo>Chargée en mode <i id='connection'>offline</i><br>
Worker <i id='worker'>non activé</i></sinfo><br><br>
<!--afficher la position GPS-->
<h2>Ma Position GPS</h2>
<table class='position' id='tablePosition'>
	<tr>
		<th>Latitude</th>
		<th>Longitude</th>
		<th>Précision</th>
		<th>Dernière mise à jour</th>
		  <!-- <p id="para">Some text here</p> -->
		<th><button onclick="refreshGPS();">Mettre à jour</button></th>
	</tr>
	<tr>
		<td id='latitude'></td>
		<td id='longitude'></td>
		<td id='precision'></td>
		<td id='miseAjour'></td>
	</tr>
</table><br>
<!-- <a href="data:application/octet-stream;charset=utf-16le;base64,//5mAG8AbwAgAGIAYQByAAoA">text file</a> -->
<h2><a id='telecharger'>Telecharger mes coordonnees sous forme de fichier texte</a></h2>
<!-- <a id='telecharger'>Télécharger</a><br><br> -->
<h2>Partager ma position</h2>
<table class='envoi'>
	<tr>
		<th>Destinataire</th>
		<th width=120>Envoyer par<th>
	</tr>
	<tr>
		<td><input id='destEmail' type='text' maxlength=30></td>
		<td><button onclick="email();">Email</td>
	</tr>
	<tr>
		<td rowspan=2 valign='top'><input id='destSMS' type='number' maxlength=13></td>
		<td><button onclick="sms();">SMS</td>
	</tr>
	<tr>
		<td><button onclick="facebook();">Facebook</td>
	</tr>
</table>
</BODY>
</HTML>
<!--concentre toutes les fonctions de traitement-->
<script src="./traitement.js" type="text/javascript"></script>