<HTML lang='en'>
<HEAD>
	<meta charset="utf-8">
	<meta name="description" content="A progressive Web App for mindfull reading">
	<meta name="author" content="Eduard Ergenzinger, Pranita ">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<Title>Login</Title>
	<script type="text/javascript">
	//For comaptibility with Microsoft Edge
	window.addEventListener('load', async function(){
	if ( 'serviceWorker' in navigator ) {
		try{
		var registration=await navigator.serviceWorker.register('./serviceWorker.js');
		console.log('ServiceWorker was successfully installed with scope: ', registration.scope);
		document.getElementById('worker').innerHTML='serviceWorker.js active';
		document.getElementById('cache').innerHTML='Cache active';
		}catch (err){
		console.log(err);
		}
	}else{window.alert('Your browser does not support Service Workers, you will have to fetch the pages online every time');};
	});
	</script>
</HEAD>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="lightgreen">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="manifest" href="/manifest.json">
<link rel="stylesheet" type="text/css" href="./styles.css">

<BODY>
<h1>Login</h1>
<sinfo>Page loaded in <i id='connection'>offline</i> mode<br>
Service Worker <i id='worker'>inactive</i><br>
<a id='cache'>No cache</a></sinfo><br>
<!--Login or Registration-->
<h2>Ma Position GPS</h2>
<table class='LRTable' id='LRForm'>
	<tr>
		<th>Latitude</th>
		<th>Longitude</th>
		<th>Précision</th>
		<th>Mise à jour</th>
		<th><button onclick="login();">Login</button></th>
	</tr>
	<tr>
		<td id='latitude'></td>
		<td id='longitude'></td>
		<td id='precision'></td>
		<td id='miseAjour'></td>
	</tr>
</table><br>
<h2><a id='telecharger'>Telecharger mes coordonnees</a></h2>
<h2>Partager ma position</h2>
<table class='envoi'>
	<tr>
		<th>Destinataire</th>
		<th width=120>Envoyer par<th>
	</tr>
	<tr>
		<td><input id='destEmail' type='text' maxlength=50></td>
		<td><button id='email' onclick="email();">Email</td>
	</tr>
	<tr>
		<td><input id='destSMS' type='number' maxlength=15></td>
		<td><button onclick="sms();">SMS</td>
	</tr>
</table>
</BODY>
</HTML>
<!--concentre toutes les fonctions de traitement-->
<!--effectue apres coup pour avoir une premiere experience utilisateur statique-->
<script src="./traitement.js" type="text/javascript"></script>
